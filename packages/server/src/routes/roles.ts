//----------------------------------------------------------------------------------------------------------------------
// Routes for Roles
//----------------------------------------------------------------------------------------------------------------------

import express from 'express';

import { errorHandler } from './utils/index.ts';

// Managers
import { getManagers } from '../managers/index.ts';

// Logger
import logging from '@strata-js/util-logging';
const logger = logging.getLogger('roles router');

//----------------------------------------------------------------------------------------------------------------------

const router = express.Router();

//----------------------------------------------------------------------------------------------------------------------

router.get('/', async(_req, resp) =>
{
    const managers = await getManagers();
    resp.json(await managers.role.list());
});

//----------------------------------------------------------------------------------------------------------------------
// Error Handling
//----------------------------------------------------------------------------------------------------------------------

router.use(errorHandler(logger));

//----------------------------------------------------------------------------------------------------------------------

export default router;

//----------------------------------------------------------------------------------------------------------------------
