//----------------------------------------------------------------------------------------------------------------------
// Routes for Roles
//----------------------------------------------------------------------------------------------------------------------

import express from 'express';

import { errorHandler, wrapAsync } from './utils';

// Managers
import * as rolesMan from '../managers/roles';

// Logger
import logging from '@strata-js/util-logging';
const logger = logging.getLogger(module.filename);

//----------------------------------------------------------------------------------------------------------------------

const router = express.Router();

//----------------------------------------------------------------------------------------------------------------------

router.get('/', wrapAsync(async(_req, resp) =>
{
    resp.json((await rolesMan.list()));
}));

//----------------------------------------------------------------------------------------------------------------------
// Error Handling
//----------------------------------------------------------------------------------------------------------------------

router.use(errorHandler(logger));

//----------------------------------------------------------------------------------------------------------------------

export default router;

//----------------------------------------------------------------------------------------------------------------------
